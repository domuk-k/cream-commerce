# 선착순 쿠폰 발급

```mermaid
sequenceDiagram
    actor 사용자
    participant 쿠폰
    사용자 ->> 쿠폰: 쿠폰 발급 요청
    activate 쿠폰
    쿠폰 ->> 쿠폰: 쿠폰-사용자 검증
    alt 검증 실패
        쿠폰 -->> 사용자: 발급 실패(만료, 중복, 소진 등)
        deactivate 쿠폰
        activate 쿠폰
    else
        쿠폰 ->> 쿠폰: 쿠폰 발급 및 사용자 귀속
        쿠폰 -->> 사용자: 발급 성공
        deactivate 쿠폰
    end
```
